<!--pages/index/index.wxml - 设备列表页面（类似米家首页）-->
<view class="container">
  <!-- 顶部标题 -->
  <view class="header">
    <view class="title">我的设备</view>
    <view class="subtitle">管理您的智能天气时钟</view>
  </view>

  <!-- 设备列表 -->
  <view class="device-list">
    <block wx:for="{{devices}}" wx:key="deviceId">
      <view class="card device-card" bindtap="selectDevice" data-id="{{item.deviceId}}" bindlongpress="showActionSheet">
        <view class="device-info">
          <view class="device-icon">🚀</view>
          <view class="device-text">
            <view class="device-name">{{item.nickname || '未命名设备'}}</view>
            <view class="device-id">ID: {{item.deviceId}}</view>
          </view>
        </view>
        <view class="device-status">
          <view class="status-dot online"></view>
          <text>在线</text>
        </view>
      </view>
    </block>

    <view class="card add-card" bindtap="goToScan">
      <view class="add-icon">+</view>
      <view class="add-text">添加新设备</view>
    </view>
  </view>
</view>

<!-- 设备操作菜单 -->
<view class="action-sheet" wx:if="{{showMenu}}" bindtap="hideMenu">
  <view class="action-sheet-content" catchtap="">
    <view class="action-item" bindtap="renameDevice">
      <text class="action-icon">✏️</text>
      <text>重命名</text>
    </view>
    <view class="action-item" bindtap="refreshDevice">
      <text class="action-icon">🔄</text>
      <text>刷新状态</text>
    </view>
    <view class="action-item danger" bindtap="unbindDevice">
      <text class="action-icon">🗑️</text>
      <text>解除绑定</text>
    </view>
  </view>
</view>
